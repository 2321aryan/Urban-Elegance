<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Elegance - Find Your Perfect Home</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <a href="index.html" class="logo">üè† Urban Elegance</a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="properties.php">Properties</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html">Login</a></li>
                    <li><a href="register.html">Register</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Demo Mode Notification (will be shown if database not connected) -->
    <div id="demo-notification" style="display: none; background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 0.75rem; text-align: center;">
        <strong>Demo Mode:</strong> Database not connected. Showing sample data. 
        <a href="SETUP_GUIDE.md" style="color: #856404; text-decoration: underline;">Setup database for full functionality</a>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Find Your Dream Home</h1>
            <p>Discover premium rental properties with no broker fees. Your perfect home awaits.</p>
        </div>
    </section>

    <!-- Search Form -->
    <section class="search-form">
        <form action="properties.php" method="GET">
            <div class="form-row">
                <div class="form-group">
                    <label for="city"><i class="fas fa-map-marker-alt"></i> City</label>
                    <input type="text" id="city" name="city" placeholder="Enter city name">
                </div>
                <div class="form-group">
                    <label for="property_type"><i class="fas fa-home"></i> Property Type</label>
                    <select id="property_type" name="property_type">
                        <option value="">All Types</option>
                        <option value="apartment">Apartment</option>
                        <option value="house">House</option>
                        <option value="villa">Villa</option>
                        <option value="studio">Studio</option>
                    </select>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="min_rent"><i class="fas fa-rupee-sign"></i> Min Rent</label>
                    <input type="number" id="min_rent" name="min_rent" placeholder="Minimum rent">
                </div>
                <div class="form-group">
                    <label for="max_rent"><i class="fas fa-rupee-sign"></i> Max Rent</label>
                    <input type="number" id="max_rent" name="max_rent" placeholder="Maximum rent">
                </div>
                <div class="form-group">
                    <label>&nbsp;</label>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-search"></i> Search Properties
                    </button>
                </div>
            </div>
        </form>
    </section>

    <!-- Featured Properties -->
    <section id="properties" style="padding: 2rem 0;">
        <div style="text-align: center; margin-bottom: 3rem;">
            <h2 style="font-size: 2.5rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem;">Featured Properties</h2>
            <p style="font-size: 1.1rem; color: #6b7280;">Discover our handpicked premium rental properties</p>
        </div>
        <div id="featured-properties" class="properties-grid">
            <!-- Properties will be loaded here -->
        </div>
    </section>

    <!-- Features Section -->
    <section style="background: #f9fafb; padding: 4rem 0; margin-top: 4rem;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <div style="text-align: center; margin-bottom: 3rem;">
                <h2 style="font-size: 2.5rem; font-weight: 700; color: #1f2937; margin-bottom: 1rem;">Why Choose Urban Elegance?</h2>
                <p style="font-size: 1.1rem; color: #6b7280;">Experience the future of property rental</p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; color: #2563eb; margin-bottom: 1rem;">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h3 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1rem;">No Broker Fees</h3>
                    <p style="color: #6b7280;">Connect directly with property owners and save on broker commissions</p>
                </div>
                
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; color: #2563eb; margin-bottom: 1rem;">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1rem;">Verified Properties</h3>
                    <p style="color: #6b7280;">All properties are verified by our team for authenticity and quality</p>
                </div>
                
                <div style="text-align: center; padding: 2rem;">
                    <div style="font-size: 3rem; color: #2563eb; margin-bottom: 1rem;">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1rem;">Smart Search</h3>
                    <p style="color: #6b7280;">Advanced filters to find your perfect home quickly and easily</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                <div>
                    <h3 style="font-size: 1.5rem; font-weight: 700; color: white; margin-bottom: 1rem;">üè† Urban Elegance</h3>
                    <p style="color: #9ca3af;">Your trusted partner in finding the perfect rental home without any broker fees.</p>
                </div>
                
                <div>
                    <h4 style="font-weight: 600; color: white; margin-bottom: 1rem;">Quick Links</h4>
                    <ul style="list-style: none;">
                        <li style="margin-bottom: 0.5rem;"><a href="properties.php" style="color: #9ca3af; text-decoration: none;">Properties</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #9ca3af; text-decoration: none;">About Us</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #9ca3af; text-decoration: none;">Contact</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: #9ca3af; text-decoration: none;">Help</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="font-weight: 600; color: white; margin-bottom: 1rem;">Contact Info</h4>
                    <p style="color: #9ca3af; margin-bottom: 0.5rem;"><i class="fas fa-phone"></i> +91 98765 43210</p>
                    <p style="color: #9ca3af; margin-bottom: 0.5rem;"><i class="fas fa-envelope"></i> info@urbanelegance.com</p>
                    <p style="color: #9ca3af;"><i class="fas fa-map-marker-alt"></i> Mumbai, India</p>
                </div>
            </div>
            
            <div style="border-top: 1px solid #374151; padding-top: 2rem; text-align: center;">
                <p>&copy; 2024 Urban Elegance. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Load featured properties on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadFeaturedProperties();
        });

        function loadFeaturedProperties() {
            // Try to fetch from API first, fallback to sample data
            fetch('api/get_properties.php?limit=6')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('featured-properties');
                    
                    if (data.success && data.properties.length > 0) {
                        // Use real database properties
                        container.innerHTML = data.properties.map(property => `
                            <div class="property-card">
                                <div class="property-image">
                                    ${property.images ? 
                                        `<img src="uploads/${JSON.parse(property.images)[0]}" alt="${property.title}" style="width:100%;height:200px;object-fit:cover;">` : 
                                        `<img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="${property.title}" style="width:100%;height:200px;object-fit:cover;">`
                                    }
                                </div>
                                <div class="property-details">
                                    <div class="property-title">${property.title}</div>
                                    <div class="property-price">‚Çπ${parseInt(property.rent_amount).toLocaleString()}/month</div>
                                    <div class="property-info">
                                        <span><i class="fas fa-bed"></i> ${property.bedrooms} BHK</span>
                                        <span><i class="fas fa-ruler-combined"></i> ${property.area_sqft} sq ft</span>
                                        <span><i class="fas fa-home"></i> ${property.property_type}</span>
                                    </div>
                                    <div class="property-location"><i class="fas fa-map-marker-alt"></i> ${property.city}, ${property.state}</div>
                                    <button class="btn btn-primary" onclick="viewProperty(${property.id})">View Details</button>
                                </div>
                            </div>
                        `).join('');
                    } else {
                        // Fallback to sample properties with proper images
                        loadSampleProperties(container);
                    }
                })
                .catch(error => {
                    console.log('Database not available, showing sample properties');
                    const container = document.getElementById('featured-properties');
                    loadSampleProperties(container);
                });
        }

        function loadSampleProperties(container) {
            const sampleProperties = [
                {
                    id: 1,
                    title: "Modern 3BHK Apartment",
                    rent_amount: 25000,
                    bedrooms: 3,
                    area_sqft: 1200,
                    property_type: "apartment",
                    city: "Mumbai",
                    state: "Maharashtra",
                    image: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 2,
                    title: "Luxury Villa with Garden",
                    rent_amount: 45000,
                    bedrooms: 4,
                    area_sqft: 2500,
                    property_type: "villa",
                    city: "Bangalore",
                    state: "Karnataka",
                    image: "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 3,
                    title: "Cozy 2BHK Studio",
                    rent_amount: 18000,
                    bedrooms: 2,
                    area_sqft: 800,
                    property_type: "studio",
                    city: "Pune",
                    state: "Maharashtra",
                    image: "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 4,
                    title: "Spacious Family House",
                    rent_amount: 35000,
                    bedrooms: 3,
                    area_sqft: 1800,
                    property_type: "house",
                    city: "Delhi",
                    state: "Delhi",
                    image: "https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 5,
                    title: "Premium Penthouse",
                    rent_amount: 65000,
                    bedrooms: 4,
                    area_sqft: 3000,
                    property_type: "apartment",
                    city: "Gurgaon",
                    state: "Haryana",
                    image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                },
                {
                    id: 6,
                    title: "Charming 1BHK Flat",
                    rent_amount: 15000,
                    bedrooms: 1,
                    area_sqft: 600,
                    property_type: "apartment",
                    city: "Chennai",
                    state: "Tamil Nadu",
                    image: "https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                }
            ];
            
            container.innerHTML = sampleProperties.map(property => `
                <div class="property-card">
                    <div class="property-image">
                        <img src="${property.image}" alt="${property.title}" style="width:100%;height:200px;object-fit:cover;">
                    </div>
                    <div class="property-details">
                        <div class="property-title">${property.title}</div>
                        <div class="property-price">‚Çπ${property.rent_amount.toLocaleString()}/month</div>
                        <div class="property-info">
                            <span><i class="fas fa-bed"></i> ${property.bedrooms} BHK</span>
                            <span><i class="fas fa-ruler-combined"></i> ${property.area_sqft} sq ft</span>
                            <span><i class="fas fa-home"></i> ${property.property_type}</span>
                        </div>
                        <div class="property-location"><i class="fas fa-map-marker-alt"></i> ${property.city}, ${property.state}</div>
                        <a href="sample_property.html?id=${property.id}" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            `).join('');
        }

        function viewProperty(id) {
            // Redirect to property details page
            window.location.href = `property_details.php?id=${id}`;
        }
    </script>
</body>
</html>